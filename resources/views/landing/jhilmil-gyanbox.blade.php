<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>ঝিলমিল জ্ঞানবাক্স - Ittadi Mart</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="{{ asset('assets/css/hind-siliguri.css') }}" rel="stylesheet">
    <link href="{{ asset('assets/css/bootstrap.min.css') }}" rel="stylesheet">
    <link rel="stylesheet" href="{{ asset('landing/css/jhilmil-gyanbox.css') }}">
</head>

<body>

    <div class="bg-grayish-white">
        <div class="container py-3 text-center">
            <div class="heading-title mb-3">
                <h2>বাচ্চাকে মোবাইল, ল্যাপটপ বা ট্যাবের পরিবর্তে জ্ঞানবাক্স এর বইগুলো উপহার দিন</h2>
            </div>

            <h2 class="subheading-title orange">"ঝিলমিল জ্ঞানবাক্স সোনামনিদের শেখার শুরু (১৬ টি বই)"</h2>
            <h2 class="subheading-title brown">সাথে ১২ টি ফ্ল্যাশ কার্ড সম্পূর্ণ ফ্রি</h2>
            <h2 class="subheading-title red">সারা বাংলাদেশে ফ্রি ডেলিভারি</h2>

            <img src="{{ asset('landing/images/featured-photo.png') }}" alt="" class="product-feature mb-5" alt="ঝিলমিল জ্ঞানবাক্স">

            <div class="price-box p-3">
                <h2>রেগুলার প্রাইজঃ <s>১২৮০</s> টাকা</h2>
                <h2 class="orange">অফার প্রাইজঃ ৭৯০ টাকা</h2>
                <img src="{{ asset('landing/images/free-delivery.png') }}" width="300px" alt="ফ্রি ডেলিভারি">
            </div>

            <div class="mt-3">
                <a href="#order_now" class="btn btn-order">বইগুলো অর্ডার করতে চাই</a>
            </div>
        </div>
    </div>


    <div class="container py-5">
        <div class="row justify-content-center">
            <div class="col-md-10">
                <div class="video-heading text-center mb-3">
                    <h2>দয়া করে ভিডিওটি সম্পূর্ণ দেখুন</h2>
                </div>
                <div class="d-flex justify-content-center">
                    <iframe id="youtube_video" style="display: none;"
                        src="https://www.youtube.com/embed/ZJPIr2yTKws?modestbranding=1&showinfo=0&rel=0"
                        title="YouTube video player" frameborder="0"
                        allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture;"
                        allowfullscreen></iframe>
                </div>
            </div>
        </div>
    </div>

    <div class="boxed-pricing text-center">
        <div class="container">
            <h2 class="title">ঝিলমিল জ্ঞানবাক্স (১৬টি বই)</h2>
            <div class="subtitle mt-4">
                <h2>সাথে ফ্ল্যাশ কার্ড ফ্রি</h2>
            </div>
            <img src="{{ asset('landing/images/free-delivery.png') }}" alt="" width="300px" class="mt-3">
            <h2 class="regular-price">রেগুলার প্রাইজঃ <del>১২৮০</del> টাকা</h2>
            <h2 class="discount-price">
                ডিসকাউন্ট প্রাইজঃ
                <span class="d-inline-block position-relative">
                    <span class="position-relative">৳৭৯০ টাকা</span>
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 500 150" preserveAspectRatio="none">
                        <path d="M325,18C228.7-8.3,118.5,8.3,78,21C22.4,38.4,4.6,54.6,5.6,77.6c1.4,32.4,52.2,54,142.6,63.7 c66.2,7.1,212.2,7.5,273.5-8.3c64.4-16.6,104.3-57.6,33.8-98.2C386.7-4.9,179.4-1.4,126.3,20.7"></path>
                    </svg>
                </span>

            </h2>
            <h2 class="free-delivery mt-3">সারাদেশে ফ্রি ডেলিভারি</h2>
            <a href="#order_now" class="btn btn-order">বইগুলো অর্ডার করতে চাই</a>
            <h2 class="call"><a href="tel:01304154445 ">কল করুন : </a><a href="tel:01304154445 ">01304154445 </a></h2>
        </div>
    </div>

    <div class="bg-grayish-white">
        <div class="container py-5">
            <div class="special-heading mb-3">
                <h2>ঝিলমিল জ্ঞানবক্স কেন নিবেন ?</h2>
            </div>

            <div class="bg-white">
                <ul class="feature-lists star-marker">
                    <li>মোবাইল আসক্তি দূর করবে</li>
                    <li>বিভিন্ন ধরনের বিষয় শিখতে পারবে</li>
                    <li>খেলতে খেলতে শিখতে পারবে</li>
                    <li>রঙিন ছবি হওয়ায় পড়ায় আগ্রহ বাড়বে</li>
                    <li>মনোযোগ ও চিন্তাশক্তি বৃদ্ধি করবে</li>
                    <li>শিশুদের মেধা বিকাশে সহায়ক হবে</li>
                    <li>শিশুদের সৃজনশীল হতে সাহায্য করবে</li>
                </ul>
            </div>
        </div>
    </div>

    <div class="container py-5">

        <div class="special-heading mb-3">
            <h2>প্রোডাক্ট টির বিবরন:</h2>
        </div>
        <div class="row justify-content-center">
            <div class="col-md-9">
                <div class="bg-white">
                    <ul class="feature-lists target-marker">
                        <li>বইগুলো প্রতিটি ৩.৫/৪.৫ ইঞ্চি।</li>
                        <li>প্রতিটি বইতে (১০×২) = ২০টি করে পৃষ্ঠা আছে।</li>
                        <li>প্রতিটি বইতে (১০×২) = ২০টি করে পৃষ্ঠা আছে।</li>
                        <li>বইগুলো ফিনল্যান্ড থেকে আমদানিকৃত ৭০০ জিএসএম বোর্ডে প্রিন্ট করা।</li>
                        <li>বাচ্চা‌ সহজে ছিঁড়তে পারবে না।</li>
                        <li>দুই পাশে লেমিনেটেড হওয়াতে পানিতেও ভিজবে না।</li>
                        <li>ভিন্ন ভিন্ন বিষয় নিয়ে আর কালারফুল সব ছবি দিয়ে বইগুলো সাজানো</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <div class="bg-grayish-white">
        <div class="container py-3">
            <div class="price-box p-3 text-center">
                <h2>রেগুলার প্রাইজঃ <s>১২৮০</s> টাকা</h2>
                <h2 class="orange">অফার প্রাইজঃ ৭৯০ টাকা</h2>
                <img src="{{ asset('landing/images/free-delivery.png') }}" alt="" width="300px">
            </div>
        </div>
    </div>

    <section id="order_now" class="order_now">
        <div class="container">
            <div class="order-area">
                <div class="order-title">
                    <h2>অর্ডার করতে নিচের ফর্মটি পূরণ করুন</h2>
                </div>

                <div class="row">
                    <h3 id="your_products_heading">প্রোডাক্ট নির্বাচন করুন</h3>

                    <div class="row">


                        <!-- Product -->
                        @foreach($products as $product)
                        <div class="col-md-6">
                            <div class="multiple-product-box" data-id="{{ $product->id }}" data-thumbnail="{{ asset($product->thumbnail) }}">
                                <div class="checkbox">
                                    <input class="product-checkbox" type="checkbox" id="cbx-{{ $product->id }}" @if($product->id == 1) checked @endif/>
                                    <label class="cbx" for="cbx-{{ $product->id }}">
                                        <div class="flip">
                                            <div class="front"></div>
                                            <div class="back">
                                                <svg width="16" height="14" viewBox="0 0 16 14">
                                                    <path d="M2 8.5L6 12.5L14 1.5"></path>
                                                </svg>
                                            </div>
                                        </div>
                                    </label>
                                </div>

                                <div class="name-price">
                                    <p class="name">{{ $product->name }}</p>

                                    <div class="product-qty">
                                        <div class="product-qty-selection-wrap d-flex">
                                            <span class="product-qty-selection-btn product-qty-decrement product-qty-change-icon">−</span>
                                            <input autocomplete="off" type="number" value="1" step="1" min="1" name="product_qty_selection" class="product-qty-selection" placeholder="1">
                                            <span class="product-qty-selection-btn product-qty-increment product-qty-change-icon">+</span>
                                        </div>
                                    </div>

                                    <div class="price d-inline">
                                        <span class="price">৳ {{ number_format($product->sale_price, 2) }}</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        @endforeach


                    </div>

                </div>

                <div class="row">
                    <div class="col-md-6">
                        <h3>বিলিং তথ্য</h3>

                        <div class="alert alert-dismissible fade show" role="alert" id="orderAlert" style="display: none"></div>

                        <div class="mb-3">
                            <label for="name" class="form-label">আপনার নাম <span class="text-danger">*</span></label>
                            <input type="email" class="form-control" id="name" placeholder="আপনার নাম লিখুন">
                        </div>
                        <div class="mb-3">
                            <label for="phone" class="form-label">মোবাইল নাম্বার <span class="text-danger">*</span></label>
                            <input type="text" class="form-control" id="phone" placeholder="আপনার মোবাইল নাম্বার লিখুন">
                        </div>
                        <div class="mb-3">
                            <label for="address" class="form-label">অর্ডার নোট</label>
                            <textarea class="form-control" id="address" rows="3" placeholder="* যদি পছন্দমতো বই নিতে চান বা আপনার কোনো বিশেষ নির্দেশনা থাকে তাহলে জানাবেন"></textarea>
                        </div>
                        <div class="mb-3">
                            <label for="address" class="form-label">আপনার ঠিকানা <span class="text-danger">*</span></label>
                            <textarea class="form-control" id="address" rows="3" placeholder="আপনার ঠিকানা লিখুন"></textarea>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <h3>আপনার অর্ডার</h3>
                        <table class="checkout-table">
                            <thead>
                                <tr>
                                    <th>প্রোডাক্ট</th>
                                    <th>সাব টোটাল</th>
                                </tr>
                            </thead>
                            <tbody id="cart-body">
                                <tr class="cart_item">
                                    <td class="product-name">
                                        <div class="product-image">
                                            <div class="product-thumbnail">
                                                <img src="{{ asset($products->first()->thumbnail) }}" class="product_thumbnail" alt="{{ $products->first()->name }}">
                                            </div>
                                            <div class="product-name">{{ $products->first()->name }}</div>
                                        </div>
                                        &nbsp;
                                        <strong class="product-quantity">×&nbsp;1</strong>
                                    </td>
                                    <td class="product-total">
                                        <span class="amount"><bdi><span>৳&nbsp;</span>{{ number_format($products->first()->sale_price, 2) }}</bdi></span>
                                    </td>
                                </tr>
                            </tbody>

                            <tfoot>

                                <tr class="cart-subtotal">
                                    <th>মোট</th>
                                    <td><span class="amount"><bdi><span class="">৳&nbsp;</span>790.00</bdi></span></td>
                                </tr>

                                <tr class="shipping-totals shipping">
                                    <th>শিপিং</th>
                                    <td>ফ্রি ডেলিভারি</td>
                                </tr>

                                <tr class="order-total">
                                    <th>সর্বমোট</th>
                                    <td><strong><span class="amount"><bdi><span class="">৳&nbsp;</span>790.00</bdi></span></strong></td>
                                </tr>

                            </tfoot>

                        </table>


                        <div class="checkout-payment">
                            <label for="payment_method_cod">ক্যাশ অন ডেলিভারি</label>
                            <div class="payment_box payment_method_cod">
                                <p>এক টাকাও অগ্রীম পেমেন্ট করতে হবে না। হাতে পেয়ে কোয়ালিটি যাচাই করে মূল্য পরিশোধ করতে পারবেন। প্রোডাক্ট পছন্দ না হলে বিনাশর্তে এবং কোনো পেমেন্ট ছাড়াই রিটার্ন করতে পারবেন।</p>
                            </div>
                        </div>

                        <div class="checkout-order">
                            <button type="submit" class="btn btn-order-confirm">
                                <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M10 19.5c0 .829-.672 1.5-1.5 1.5s-1.5-.671-1.5-1.5c0-.828.672-1.5 1.5-1.5s1.5.672 1.5 1.5zm3.5-1.5c-.828 0-1.5.671-1.5 1.5s.672 1.5 1.5 1.5 1.5-.671 1.5-1.5c0-.828-.672-1.5-1.5-1.5zm1.336-5l1.977-7h-16.813l2.938 7h11.898zm4.969-10l-3.432 12h-12.597l.839 2h13.239l3.474-12h1.929l.743-2h-4.195z" />
                                </svg>
                                অর্ডার করুন
                            </button>
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </section>

    <footer>
        <ul class="footer-menu">
            <li>
                <a href="#">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                        <path d="M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z" />
                    </svg>
                    Privacy Policy
                </a>
            </li>
            <li>
                <a href="#">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                        <path d="M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z" />
                    </svg>
                    Refund and Returns Policy
                </a>
            </li>
            <li>
                <a href="#">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
                        <path d="M6.188 8.719c.439-.439.926-.801 1.444-1.087 2.887-1.591 6.589-.745 8.445 2.069l-2.246 2.245c-.644-1.469-2.243-2.305-3.834-1.949-.599.134-1.168.433-1.633.898l-4.304 4.306c-1.307 1.307-1.307 3.433 0 4.74 1.307 1.307 3.433 1.307 4.74 0l1.327-1.327c1.207.479 2.501.67 3.779.575l-2.929 2.929c-2.511 2.511-6.582 2.511-9.093 0s-2.511-6.582 0-9.093l4.304-4.306zm6.836-6.836l-2.929 2.929c1.277-.096 2.572.096 3.779.574l1.326-1.326c1.307-1.307 3.433-1.307 4.74 0 1.307 1.307 1.307 3.433 0 4.74l-4.305 4.305c-1.311 1.311-3.44 1.3-4.74 0-.303-.303-.564-.68-.727-1.051l-2.246 2.245c.236.358.481.667.796.982.812.812 1.846 1.417 3.036 1.704 1.542.371 3.194.166 4.613-.617.518-.286 1.005-.648 1.444-1.087l4.304-4.305c2.512-2.511 2.512-6.582.001-9.093-2.511-2.51-6.581-2.51-9.092 0z" />
                    </svg>
                    Terms & Conditions
                </a>
            </li>
        </ul>

        <p class="copyright text-center small mt-2">
            <a class="text-light text-decoration-none" href="https://sheraweb.com/">© 2023 Ittadi Mart | Developed by Shera Web</a>
        </p>
    </footer>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="{{ asset('assets/js/bootstrap.bundle.min.js') }}"></script>

    <script>
        $(document).ready(function () {
            // Youtube video
            var youtube_video = $('#youtube_video');
            youtube_video_width = Math.min($(window).width() - 25, 480);
            youtube_video_height = youtube_video_width * (315 / 219);
            youtube_video.attr('width', youtube_video_width).attr('height', youtube_video_height);
            youtube_video.show();

            // .order-btn click go the order form without add #order_now to the url
            $('.btn-order').click(function (e) {
                e.preventDefault();
                $('html, body').animate({
                    scrollTop: $("#order_now").offset().top
                }, 100);
            });

            // Handle checkbox changes
            $('.product-checkbox').change(function () {
                updateCart();
            });

            // Handle product quantity changes
            $('.product-qty-selection').change(function () {
                const inputField = $(this);
                const newValue = Math.max(parseInt(inputField.val(), 10), 1);
                inputField.val(newValue);
                updateCart();
            });

            // Handle product quantity increment
            $('.product-qty-increment').click(function () {
                const inputField = $(this).siblings('.product-qty-selection');
                inputField.val(parseInt(inputField.val(), 10) + 1);
                updateCart();
            });

            // Handle product quantity decrement
            $('.product-qty-decrement').click(function () {
                const inputField = $(this).siblings('.product-qty-selection');
                const newValue = Math.max(parseInt(inputField.val(), 10) - 1, 1);
                inputField.val(newValue);
                updateCart();
            });

            function updateCart() {
                // Clear existing cart items with fade-out effect
                $('#cart-body').children().fadeOut(250, function () {
                    $(this).remove();
                });

                // Initialize total price
                let totalPrice = 0;

                // Loop through each product
                $('.multiple-product-box').each(function () {
                    const checkbox = $(this).find('.product-checkbox');
                    const qtyInput = $(this).find('.product-qty-selection');

                    // Check if the checkbox is checked and quantity is greater than 0
                    if (checkbox.prop('checked') && parseInt(qtyInput.val(), 10) > 0) {
                        // Get product details
                        const productName = $(this).find('.name').text();
                        const productQty = parseInt(qtyInput.val(), 10);
                        const productThumbnail = $(this).data('thumbnail');
                        const productPrice = parseFloat($(this).find('.price').text().replace('৳', '').trim());
                        const subTotal = productQty * productPrice;

                        // Update total price
                        totalPrice += subTotal;

                        // Add item to cart with fade-in effect
                        $('#cart-body').append(`
                            <tr class="cart_item" style="display: none;">
                                <td class="product-name">
                                    <div class="product-image">
                                        <div class="product-thumbnail">
                                            <img src="${productThumbnail}" class="product_thumbnail" alt="">
                                        </div>
                                        <div class="product-name">${productName}</div>
                                    </div>
                                    &nbsp;
                                    <strong class="product-quantity">×&nbsp;${productQty}</strong>
                                </td>
                                <td class="product-total">
                                    <span class="amount"><bdi><span>৳&nbsp;</span>${subTotal.toFixed(2)}</bdi></span>
                                </td>
                            </tr>
                        `).children(':last').fadeIn(500);
                    }
                });

                // Update subtotal and total in the footer
                $('.cart-subtotal td:last-child, .order-total td:last-child').html(`<span class="amount"><bdi><span>৳&nbsp;</span>${totalPrice.toFixed(2)}</bdi></span>`);
            }

            // Handle order confirmation button click
            $('.btn-order-confirm').click(function (e) {
                e.preventDefault();

                // Collect data for the AJAX request
                const orderData = {
                    _token: '{{ csrf_token() }}',
                    products: [],
                    name: $('#name').val(),
                    phone: $('#phone').val(),
                    address: $('#address').val(),
                    orderNote: $('#address').val() // or use the correct textarea ID for order note
                };

                // Loop through each selected product
                $('.multiple-product-box').each(function () {
                    const checkbox = $(this).find('.product-checkbox');
                    const qtyInput = $(this).find('.product-qty-selection');

                    // Check if the checkbox is checked and quantity is greater than 0
                    if (checkbox.prop('checked') && parseInt(qtyInput.val(), 10) > 0) {
                        // Get product details
                        const productId = $(this).data('id');
                        const productQty = parseInt(qtyInput.val(), 10);

                        // Add product to the order data
                        orderData.products.push({
                            id: productId,
                            quantity: productQty
                        });
                    }
                });

                $('#orderAlert').removeClass('alert-danger alert-success').addClass('alert-warning').text('অর্ডার প্রসেসিং হচ্ছে, অপেক্ষা করুন...').fadeIn();
                $('#btn-order-confirm').prop('disabled', true);

                // Check if any product is selected
                if (orderData.products.length === 0) {
                    $('#orderAlert').text('অনুগ্রহ করে কমপক্ষে একটি প্রোডাক্ট সিলেক্ট করুন').removeClass('alert-success').addClass('alert-danger').fadeIn();
                    return;
                }

                // Send AJAX request
                $.ajax({
                    type: 'POST',
                    url: '{{ route("place-order") }}',
                    data: JSON.stringify(orderData),
                    contentType: 'application/json',
                    success: function (response) {
                        if(response.status == 'success'){
                            $('#orderAlert').text(response.message).removeClass('alert-warning alert-danger').addClass('alert-success').fadeIn();
                            
                        }else{
                            $('#orderAlert').text(response.message).removeClass('alert-warning alert-success').addClass('alert-danger').fadeIn();
                        }
                    },
                    error: function (error) {
                        // Handle error response, e.g., show an error message to the user
                        console.error(error);
                        $('#orderAlert').text('দুঃখিত, কিছু একটা সমস্যা হচ্ছে, আবার চেষ্টা করুন').removeClass('alert-success').addClass('alert-danger').fadeIn();
                    }
                });
            });
            
        });

    </script>
</body>

</html>